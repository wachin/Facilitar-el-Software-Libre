<h1
id="cómo-compilar-el-kernel-linux-real-time-5.10-para-mx-linux-23-crear-los-deb">Cómo
compilar el kernel Linux Real Time 5.10 para MX Linux 23 (crear los
deb)</h1>
<p>Este Kernel “Real Time” yo lo uso para hacer música, vea la siguiente
entrada:</p>
<p><strong>Cómo instalar y usar Jack Audio Connection Kit (JACK) +
Ardour y sus plugins con un Kernel de Tiempo Real en MX Linux 21 (basado
en Debian 11)</strong><br />
<a
href="https://facilitarelsoftwarelibre.blogspot.com/2020/10/instalar-realtime-kernel-en-mx-linux.html">https://facilitarelsoftwarelibre.blogspot.com/2020/10/instalar-realtime-kernel-en-mx-linux.html</a></p>
<h2 id="requisitos-de-compilación">Requisitos de compilación</h2>
<ul>
<li>40 GB de espacio en Disco</li>
<li>Linux basados en Debian, MX Linux, antiX, Ubuntu, Linux Mint, etc,
que usen la paquetería .deb</li>
</ul>
<h3 id="aplicación-del-las-actualizaciones-del-sistema">Aplicación del
las actualizaciones del sistema</h3>
<p>Actualice los repositorios:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt update</span></code></pre></div>
<p>Actualice los paquetes:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt upgrade</span></code></pre></div>
<h3 id="instalando-las-dependencias">Instalando las dependencias</h3>
<p>Instalar:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get install gcc build-essential libncurses5-dev fakeroot wget xz-utils <span class="dt">\</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    flex bison libssl-dev autoconf automake cmake dwarves openssl libelf-dev <span class="dt">\</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    libudev-dev libpci-dev libiberty-dev bc python3-sphinx lzop lzma <span class="dt">\</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    lzma-dev libmpc-dev u-boot-tools gettext rsync libncurses-dev <span class="dt">\</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    libelf-dev libudev-dev pkg-config</span></code></pre></div>
<h2 id="ver-un-kernel-antiguo-pero-actualizado">Ver un Kernel antiguo
pero actualizado</h2>
<p>Necesito descargar un Kernel ni tan antiguo ni tan nuevo</p>
<p><strong>Longterm release kernels</strong><br />
<a
href="https://www.kernel.org/category/releases.html">https://www.kernel.org/category/releases.html</a></p>
<figure>
<img
src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh52VrC3U4xu-WY1OtMRGvc0cTn_72z4Liu868S0_WPWefwcpD1WUw4nGrpVGhrt5WmLFz_l72S5bq-DLDugSJybYrwhN5QdZVQa6Z7e9PjRPcHqrdM0_F98QolmAP_ecxFtEg0E-1YLwytH9sVk9917BW7-Ciyg_JAotgQD-z3X4twf9_74Yt-2FtxmXA/s920/20240624-220435%20Kernel%205.10.png"
alt="Kernel 5.10" />
<figcaption aria-hidden="true">Kernel 5.10</figcaption>
</figure>
<p><strong>Nota:</strong> Estos pasos usted los puede modificar para
compilar otra versión de Kernel.</p>
<h3 id="por-qué-descargar-un-kernel-algo-antiguo-para-compilarlo">Por
qué descargar un Kernel algo antiguo para compilarlo?</h3>
<ol type="1">
<li><p>Porque puede que tengan un ordenador antiguo y quiera que rinda
mejor, ejemplo tengo un ordenador que fue comprado en el año 2008 y
quiero usar MX Linux 23 a esta fecha que hago este tutorial Junio del
2024, entonces necesito un Kernel lo más antiguo que se pueda instalar
en este MX Linux 23 porque debe saber usted que un Kernel lo que tiene
de importante es que funcionen el hardware de su ordenador y que sea
seguro (esté actualizado). <strong>Nota:</strong> Los Kernel tienen una
fecha en que ya no se les dará más soporte, pero viejo no quiere decir
que no sirva sino que no estará actualizado para alguna vulnerabilidad
que se pueda encontrar en el futuro.</p></li>
<li><p>Si alguna vez tenga usted algún hardware que solo funcione con
una versión vieja de Kernel Linux, deberá buscar un Linux antiguo que
funcione aunque ya no le den actualizaciones pero que se pueda usar y
descargar sus paquetes y allí compilar un Kernel viejo que se pueda
compilar allí, para que aquel hardware viejo funcione, aunque no tenga
mucha seguridad ese Kernel, pero yo lo veo de esta forma, mientras una
persona no navegue en paginas malas estará seguro así sea que use un
Kernel sin las ultimas actualizaciones (recomiendo en ese caso cuando se
termine el soporte es posible que yo lo siga usando y usaré: <a
href="https://www.mywot.com/download">https://www.mywot.com/download</a>
u otro semejante) ademas que no hay que andar instalando cosas que no
estemos seguros que sean seguras o no.</p></li>
<li><p>Otra razón de compilar este Kernel, es porque a veces podría
pasar (ha pasado, una vez enviaron uno así en las actualizaciones) que
no compilan bien el Kernel y no funciona bien, entonces lo mejor es uno
mismo compilarlo.</p></li>
</ol>
<h3 id="consideraciones-a-tener-en-cuenta">¿Consideraciones a tener en
cuenta?</h3>
<p>Es posible que los deb del Kernel generado luego después de un tiempo
no funcionen en la misma máquina o en otra, esto debido a que con el
paso del tiempo pueden hacer algún cambio grande en el sistema y el
Kernel de la manera que fue creado puede que no encaje en esas
modificaciones de los paquetes que luego se instalaron por las
actualizaciones que enviaron, por lo que deberá buscar en kernel.org
algún otro Kernel más actual que si coincida con todo el entorno de su
Linux. O sea, si usted compila un Kernel, debe estar usted a la
vanguardia, debe compilarlo con alguna frecuencia, es como si usted
fuera los que mantienen el sistema que en algún momento envian algún
Kernel nuevo, y de usted depende verificar que todo funcione bien con el
kernel.</p>
<h3
id="antes-del-descargar-el-kernel-primero-buscar-un-parche-real-time">Antes
del descargar el Kernel primero buscar un parche Real Time</h3>
<p>Primero es necesario saber si existe el parche pues sino de nada
servirá descargar el Kernel. Me voy a buscar y descargar un parche “Real
Time” desde:</p>
<p><a
href="https://mirrors.edge.kernel.org/pub/linux/kernel/projects/rt/">https://mirrors.edge.kernel.org/pub/linux/kernel/projects/rt/</a></p>
<p>debo saber si hay uno 5.10:</p>
<figure>
<img
src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgZbkbEmt58NDFXe49AfvCxjZCLD2ad8jJ4fjcpVJeNoswS7RAiXWLa0HgD7ePN6wQVqddEhtx5Bpol9bR3nKygGFTFS_V7ztidleMFe9nJF1b9cceUZlpDpzwINhTqNeP-Ixl8GTZsFPq8zKn3kh6QmgIazx3DXJL3VpRVmFLitygrKU_WWV2ewkQr1mI/s625/20240624-221437%20parche%205.10.png"
alt="parche 5.10" />
<figcaption aria-hidden="true">parche 5.10</figcaption>
</figure>
<p>Si usted es curioso y desea saber cómo obtuve este enlace pues es
desde:</p>
<p><a href="https://www.kernel.org/">https://www.kernel.org/</a></p>
<p><img
src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgfsPXnnnoIbVGBKQbUnSLtEZmeuwM5UPMvUtrH_Ji2ve3U5wkp_Pbd7Og23N7JozXapO1MvfRu7f8Id2lyEpV0Amtx5rLGtspXzYfuG4tuFS3ZRYx70lJKltEl5pGj13cuSNU3THsqffnR1y3nxUaQdxpNGucgfJQ3V92e3o84XKqiEtyqhIHmD0IxQxY/s909/20240503-045223%20kernel.org%20pub.png" /></p>
<p>ese link es este:</p>
<p><a
href="https://www.kernel.org/pub/">https://www.kernel.org/pub/</a></p>
<p>pero al dar clic ese enlace se convierte en:</p>
<p><a
href="https://mirrors.edge.kernel.org/pub/">https://mirrors.edge.kernel.org/pub/</a></p>
<p>y allí clic a:</p>
<figure>
<img
src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh8Rnxn-lrd1ixjpG2HnpWx-cY-uoqg4EY3WO7FvzmbQMhwgsmP7LkeCMezbRHtnF5KKjcC_wA8ZBO975IraZ0jbQm-YORSUhFHcar7eieogZCVBDWGF4Jpzkd1bSPQzY5EdM_Mr95pSPaGIr1CERjObMLhSmnOlcxLIt7acJWk_uLVX720Ltxw4KlDO5I/s620/20240503-045342%20enlace%20a%20kernel%20linux.png"
alt="enlace a kernel linux" />
<figcaption aria-hidden="true">enlace a kernel linux</figcaption>
</figure>
<p>y allí clic a Kernel:</p>
<p><img
src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh8DMIjfj67dq3jeyORceV5w8Xq6Rg62C189aAYNbxZOeoa_tquSFPCvnusfoTsPWCV2U8tz0zVup1ieDnHgRAZNFj6ZWJLOHOdX2aEMy7wZ0MSzWKW_QIOtJ-o7X2jqUiVP1q65nuFgbjb0kQ4AFjMe7BCXpnrJXmG8RbYc3ygctDCkL33fWDwWhKa4OA/s553/20240503-045709%20clic%20al%20kernel%20linux.png" /></p>
<p>y allí clic a projects:</p>
<p><img
src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh2DabXo0PEXbl3sznArSpQ669QtPmECDOBYWpGK4akBrYkwtiHQ1EtR_0lCSUsOvTsriBACQlcbDWSa9fuB4AD0pQeh6d9DH0dk9SqLTXdRnXK5WqWfLwd1LGO2Vrg1qknlmMRnxr4HMaWuvJ4FLIoGgxO5MTT6KoYi0kZFpjhdGTI7wqkZydu5NxrJx8/s621/20240503-045954%20clic%20a%20projects.png" /></p>
<p>y allí clic a rt (Real Time):</p>
<p><img
src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhNd5cnNqFx0k944x2oChMmT48N6ga7xBa9OUQW9v_pBzcrjpHnxWUCpcmFTm7XnELVFcnefoSwWT_qUVs8ZQxt_o9iB1Y2M-KzOP8BecLIORNfAtrS_ksViKCHnDG7utdRoa_0KKC3ZRDh5XmL5hUB-iZ2sckW1DH-DQSMYqat69pVtVOsJ9JkN_jVEMc/s559/20240503-050057%20clic%20a%20rt.png" /></p>
<p>y clic a la versión 5.10 y veo que si hay uno y entro allí:</p>
<p><a
href="https://mirrors.edge.kernel.org/pub/linux/kernel/projects/rt/5.10/">https://mirrors.edge.kernel.org/pub/linux/kernel/projects/rt/5.10/</a></p>
<p><img
src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjv6YfSnolX-zvbVqcci00co9x5gxJl5c2s-h3P076d7A0Ygh0qjr6KjJXJWsTN0PqEFSLF31ogDA0ICUDqZB1D1CIfRzqeSnYRQy_hE8Uazr_9jScxeaqBLxHLUo89ztCIlTp5I0VbqHf5Xn0mfKW20IFiArO_EUIqzCbmf0GJM-1iz1IYs5p0rE3YIZU/s620/20240624-221924%20Si%20hay%20parche%20Real%20Time%20para%20Kernel%205.10.png" /></p>
<p><strong>Nota:</strong> En el repositorio de parches RT para Linux, el
archivo <code>patch</code> contiene <strong>todos los cambios en un
único parche</strong>, ideal para aplicar rápidamente y compilar el
kernel con soporte <em>real-time</em>. En cambio, <code>patches</code>
es un paquete con <strong>varios parches individuales</strong>, útil si
se quiere revisar o aplicar cambios de forma selectiva. Para una
compilación estándar, lo más práctico es usar el <code>patch</code>
único.</p>
<p>y copio el enlace del parche:</p>
<p><a
href="https://mirrors.edge.kernel.org/pub/linux/kernel/projects/rt/5.10/patch-5.10.218-rt110.patch.xz">https://mirrors.edge.kernel.org/pub/linux/kernel/projects/rt/5.10/patch-5.10.218-rt110.patch.xz</a></p>
<p><strong>Nota:</strong> Este enlace con el paso del tiempo es muy
posible que ya no esté porque o lo habrán actualizado o habrá salido del
soporte.</p>
<p>Entonces como sé que existe el parche Real Time, entonces ahora si
busco el Kernel correspondiente, pues es obvio que si hay un parche para
ese Kernel entonces habrá el Kernel (por eso no hago la busqueda de
primero el Kernel y luego del parque, porque es posible que el parche no
haya para alguna versión de Kernel entonces por gusto perdería el
tiempo)</p>
<h3 id="buscando-el-kernel-5.10">Buscando el Kernel 5.10</h3>
<p>Como ya tengo el enlace del Kernel, entro en:</p>
<p><a
href="https://mirrors.edge.kernel.org/pub/linux/kernel/">https://mirrors.edge.kernel.org/pub/linux/kernel/</a></p>
<p>busco allí uno 5x</p>
<p><img
src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjqYm8kAECYMPoxFSImkJ2YfRPCBd2oyWhkpjCIkXkxZNeb90hV3z3iTDMS1KhHqRlhO4nsPo702mS9yHhd3lSaqnH3lJ1amkNcjNmcnntggeHj9kkaJame4GRmvVBqYKBBeiiHPK3oNICSpyS7uzqPxgaVgkh6PMvk-lfDbkufz2GLk7ZR87_Dc0X1XXw/s640/20240624-222141%20Kernel%205x.png" /></p>
<p>y voy a buscar el Kernel con las siguientes palabras:
<code>linux-5.10.</code> con <code>Crtl + F</code> buscaré el más
actual:</p>
<p><img
src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEji7SIjUxwE9vfsXo1CpMvg7OsbgEUtlXebSrqegD8UJihgB_lf6DEVshLqYG1rmfGiKVCvBQ8hyvvT9sM3LM-U0SZQZZGwv6SizCGmUKGcXC8qCOeqxzkNtgR-bQG_xsRcUCqrgQ6ioZXjXoMpXGXp7ZHnlr9rWNOwurwa2CVcPFQLQYk9b4cxJQXmpV4/s724/20240624-222406%20el%20m%C3%A1s%20actual%20es%20ese.png" /></p>
<p>y copio aquí el nombre y la descripción:</p>
<p><code>linux-5.10.220.tar.xz</code> 21-Jun-2024 13:03 115M</p>
<p><strong>Nota:</strong> la versión 220 es la más actualizada con la
fecha 24 de junio 2024 entonces esa la utilizaré, copio el enlace:</p>
<p><a
href="https://mirrors.edge.kernel.org/pub/linux/kernel/v5.x/linux-5.10.220.tar.xz">https://mirrors.edge.kernel.org/pub/linux/kernel/v5.x/linux-5.10.220.tar.xz</a></p>
<h2 id="descarga-de-ambos-desde-la-terminal-opcional">Descarga de ambos
desde la terminal (Opcional)</h2>
<p>Sea como sea que descarguen los archivos recomiendo que los tengan
dentro de una carpeta, para este caso con algun nombre que la
identifique, en mi caso yo lo hago en la ruta que he creado:
<code>/home/wachin/Dev/kernel5.10/</code>, allí dentro pongo en la
terminal:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wget</span> <span class="at">-c</span> https://mirrors.edge.kernel.org/pub/linux/kernel/projects/rt/5.10/patch-5.10.218-rt110.patch.xz</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">wget</span> <span class="at">-c</span> https://mirrors.edge.kernel.org/pub/linux/kernel/v5.x/linux-5.10.220.tar.xz</span></code></pre></div>
<p>para descargarlos:</p>
<p><img
src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiz39qlv43eEhW-GBcVWqMYQWLh6LvElIfFoq-0MPofyfN5zU83RBkdtRI-uKSPfZraTzp86CzTc2flrTOJ9ScwBU2cTFMCqq-7F1Lzal1NkgLzp7gyyofZx87zjRqv5jumy43GyGpxPXn8eDxyFbMws8iHYd0oE9dnPWQQJCEERGRTOi26p6MY-uM0GK4/s904/20240624-232621%20donde%20tengo%20el%20kernel%205.10.png" /></p>
<h2 id="extracción-y-parchado-del-kernel">Extracción y parchado del
Kernel</h2>
<p>Se puede descomprimir el Kernel con clic derecho y extraer aquí:</p>
<figure>
<img
src="https://blogger.googleusercontent.com/img/a/AVvXsEhUOAjXGwh1fBXAUNzo9W_RX-hDbGnKR__nKh6vBP7buaA_qko53u4jWGWdy85_dTkRJS4ZIfTy2JBpg-Nip420DYR8TX7H-NFoacRxlmPMGDXgmu1fK-sxuz3aKes4qxdxS0Voc54Z5Mganov5MhkwT9muajX65AKoyiRw_Yk-FzrhVaRB5iilbjQuZyI"
alt="extraer aquí" />
<figcaption aria-hidden="true">extraer aquí</figcaption>
</figure>
<p>o también desde la terminal con:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tar</span> xJvf linux-5.10.220.tar.xz</span></code></pre></div>
<p>como sea que usted descomprima el archivo debe que darle así:</p>
<p><img
src="https://blogger.googleusercontent.com/img/a/AVvXsEgVR0YljqUxQ7AJsBWBnNmD9N-CiQYrieDsWeZzSj_fRhv6Z1BvbRSPl6sGGisLqXOMAeCu4tJ9D3zCs16lN-kCwpauiDOQEg5dor46AV1nj6-2biu34rTZBCWcrSziz2FxrY_hCPcWwOsQLv5wl52c02jZ740p-Y9-qUaaIaCrTPVsiv-VL8HV7owz2Sg" /></p>
<p>si desea puede entrar desde una terminal con ejemplo:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> linux-5.10.220</span></code></pre></div>
<p>o tambén se puede con clic derecho y abrir terminal aquí</p>
<p>si lo descomprimió desde la terminal y con clic derecho abrir
terminal aquí, o como sea que lo haya hecho, hay que poner lo
siguiente:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xzcat</span> ../patch-5.10.218-rt110.patch.xz <span class="kw">|</span> <span class="fu">patch</span> <span class="at">-p1</span></span></code></pre></div>
<p>Este comando para otro kernel lo debe de editar, debe poner el nombre
correcto del parche</p>
<p><img
src="https://blogger.googleusercontent.com/img/a/AVvXsEgpUxRQrD5skGCHgF7W_jU3RcfS2WVlnTyuZqDvTt_spKRKVrgKQZjw8pyOnmNsRAvRlfLGkLtyAwMUIXDWpIvKt3keijUzdxPN5lGVWECpcA2dC_kEnA0pXPqOGMDfOBup5PGrVumuanqB0ozuAAaeyZl8aT06Ma9mwaeuwwsT9kXN5ByItAVPtc6qek4" /></p>
<p>De Enter y se parchará</p>
<p><img
src="https://blogger.googleusercontent.com/img/a/AVvXsEg3stmD9WGqlX3nsYUlIjI7c8swF7pmbYwWTunAn0X5QP5HxI7qRPcCAKQ27xha9MIzNGEkcqKAkAoxLHoYvtqc64PgiLwTUjruBWscPe3gd2CL13zpeIkHbs1jh5hudhc1uA0xN5IRbuE7768ce6LnbGE4USE7U6cXby-DPv-csQb5TfqkD3bL__dqmUI" /></p>
<h2
id="añadir-el-nombre-del-mantenedor-o-responsable-a-su-sistema-para-que-se-compile-con-ese-nombre-opcional">Añadir
el nombre del Mantenedor o Responsable a su Sistema para que se compile
con ese nombre (Opcional)</h2>
<p>Esto es totalmente opcional, no es necesario para compilar el Kernel,
para hacer esto ponga en una terminal lo siguiente (teniendo instalado
Gedit u otro editor pero debe cambiar el nombre en la terminal):</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">gedit</span> ~/.bashrc</span></code></pre></div>
<p>allí debe llegar hasta abajo y con enter hacerse un espacio:</p>
<p><img
src="https://blogger.googleusercontent.com/img/a/AVvXsEjyxEkHtC6FSeAlqfV2KXKI7Ni5nBvtiejsMpYKzDSMmrI4Y5aOlBpg3ugbrYZiRClOyQ_H7JMG8v0BhLnRReShE41vqAkGfZrwUzK2LInVfrqNKeLAFacBXzUh1HThfoel9-sWfNimBDGH5Z3SMQ78okzwNrpiFSf9wasoIX9L1kpWKWpLzidERUeU" /></p>
<p>y allí debe de poner lo siguiente:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="va">DEBEMAIL</span><span class="op">=</span><span class="st">&quot;your.email.address@example.org&quot;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="va">DEBFULLNAME</span><span class="op">=</span><span class="st">&quot;Firstname Lastname&quot;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">DEBEMAIL</span> <span class="va">DEBFULLNAME</span></span></code></pre></div>
<p>y cambiar con sus datos, a mi me queda así:</p>
<p><img
src="https://blogger.googleusercontent.com/img/a/AVvXsEiYcoO48RbNiVNv75ejUow3IkQhbUAWP5k0exROfZ1UlYHZCD0_yocp5HigNJcWrZnWLf_etsKS2MLlck7stoAjzAMi7nl127bL0Q-wgFS3E_y5-a_RPMeRNgdQ_LWzvRlZXtRMAuls_U1GXG8k21OcwMjMG7Ggfcea7QhszAre6qnFUmqfX7UZf96f" /></p>
<p>ahora cierro el editor de texto y:</p>
<p><strong>Salir (cerrar) sesión</strong></p>
<p>y vuelvo a entrar. Para confirmar sus datos ponga en una
terminal:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$DEBEMAIL</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$DEBFULLNAME</span></span></code></pre></div>
<p>y le deben salir sus datos. Con esto una vez instalado el Kernel al
revisarlo en Synaptic se verá allí su nombre y su correo en los
paquetes.</p>
<h2 id="antes-de-continuar-haga-grande-el-tamaño-de-la-terminal">Antes
de continuar haga grande el tamaño de la terminal</h2>
<p>Sino hace más grande el tamaño de la terminal se saldrá el error:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">HOSTLD</span>  scripts/kconfig/mconf</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co"># using defaults found in /boot/config-6.1.0-37-686-pae</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="ex">/boot/config-6.1.0-37-686-pae:5594:warning:</span> symbol value <span class="st">&#39;m&#39;</span> invalid for RADIO_ADAPTERS</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="ex">/boot/config-6.1.0-37-686-pae:6216:warning:</span> symbol value <span class="st">&#39;m&#39;</span> invalid for DRM_GEM_SHMEM_HELPER</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="ex">/boot/config-6.1.0-37-686-pae:6860:warning:</span> symbol value <span class="st">&#39;m&#39;</span> invalid for SND_SOC_SOF_DEBUG_PROBES</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="ex">/boot/config-6.1.0-37-686-pae:6897:warning:</span> symbol value <span class="st">&#39;m&#39;</span> invalid for SND_SOC_SOF_HDA_PROBES</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="ex">Your</span> display is too small to run Menuconfig!</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="ex">It</span> must be at least 19 lines by 80 columns.</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="va">make</span><span class="op">[</span><span class="dv">1</span><span class="op">]</span><span class="ex">:</span> <span class="pp">***</span> [scripts/kconfig/Makefile:29: menuconfig] Error 1</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="ex">make:</span> <span class="pp">***</span> [Makefile:614: menuconfig] Error 2</span></code></pre></div>
<p>este error significa:</p>
<p><strong>Error principal:</strong></p>
<pre><code>Your display is too small to run Menuconfig!
It must be at least 19 lines by 80 columns.</code></pre>
<p>Esto es <strong>claro y directo</strong>: tu terminal no tiene
suficientes filas (líneas) o columnas para que <code>menuconfig</code>
pueda mostrarse correctamente. Para solucionarlo simplemente Aumenta el
tamaño de tu terminal, y luego allí si</p>
<p>poner:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> menuconfig</span></code></pre></div>
<p>para que se abra el menú:</p>
<p><img
src="https://blogger.googleusercontent.com/img/a/AVvXsEh46qKhKChdfuEB1o2HH8WYSMeZGriBNxmfmzRlJ6U1hTIiPFr-ZnRmy_EdDZE2IZ-Ry6s6oFt-iax4JjNRfKqBNLfzy5NMVBn-a6N-JxuL6YzqYHb7kvgjHCnvUFNg6vICjqjNfY74yoVJZ5Ar0AFtGqpC4QINIjjXPiASZPVVGQroE89D9b42AyiJcKA" /></p>
<p>y aparecerá el menú:</p>
<p><img
src="https://blogger.googleusercontent.com/img/a/AVvXsEgldqWzM8_iu92K7vxsGZoLAj_uYA-PGfofGSobXUyzwQAoy37uShZk2CdOJ-uLBvgkkzTPqeeN721AKlBcPzpCjmQPE8dKElBWS1utG6w4z8iPvIv3OUHxOh7dWI_LJbwfmoSuYfWjmvVT7dt3lB3dolCTjx9DPezXZSCtNfC5UJnV_KSDLpauLbVqBKQ" /></p>
<p><strong>Nota:</strong> En la imagen de arriba ya hice la ventana más
grade, pero si tiene un ordenador con una buena pantalla hagala más
grande de alto.</p>
<p><strong>Explicación de la ayuda.-</strong> Allí dice en inglés:</p>
<pre><code>Arrow keys navigate the menu.  &lt;Enter&gt; selects submenus ---&gt; (or empty submenus ----).  
Highlighted letters are hotkeys.  Pressing &lt;Y&gt; includes, &lt;N&gt; excludes, &lt;M&gt; modularizes features.  
Press &lt;Esc&gt;&lt;Esc&gt; to exit, &lt;?&gt; for Help, &lt;/&gt; for Search.  Legend: [*] built-in  [ ] excluded  
&lt;M&gt; module  &lt; &gt; module capable</code></pre>
<p>Cuya traducción <strong>significa</strong>:</p>
<pre><code>Las teclas de flecha se usan para navegar por el menú. &lt;Enter&gt; selecciona submenús ---&gt; (o submenús vacíos ----).  
Las letras resaltadas son teclas de acceso rápido. Presionar &lt;Y&gt; incluye, &lt;N&gt; excluye, &lt;M&gt; modulariza características.  
Presione &lt;Esc&gt;&lt;Esc&gt; para salir, &lt;?&gt; para Ayuda, &lt;/&gt; para Buscar. Leyenda: [*] incorporado [ ] excluido  
&lt;M&gt; módulo &lt; &gt; compatible con módulo</code></pre>
<p><strong>Explicación:</strong></p>
<h3 id="navegación-por-el-menú">1. Navegación por el menú</h3>
<p>La herramienta <code>menuconfig</code> presenta una interfaz basada
en texto para configurar las opciones del kernel. Aquí están las
instrucciones clave sobre cómo navegar:</p>
<ul>
<li><strong>Teclas de flecha</strong>:
<ul>
<li>Usa las teclas de flecha <strong>arriba</strong> y
<strong>abajo</strong> para moverte por las opciones del menú.<br />
</li>
<li>Usa las teclas de flecha <strong>izquierda</strong> y
<strong>derecha</strong> para moverte entre acciones (como “Salir” o
“Guardar”).</li>
</ul></li>
<li><strong><code>Enter</code></strong>:<br />
Presionar la tecla <code>Enter</code> en una opción:
<ul>
<li>Si es un <strong>submenú</strong>, te lleva a un nivel más profundo
del menú para configurar opciones relacionadas. Ejemplo: “Controladores
de red”.</li>
<li>Si es una opción que no tiene submenú, puedes cambiar su estado
(activado, desactivado o modular, dependiendo de lo que soporte). Tenga
siempre mucho cuidado en cuantas veces da Enter</li>
</ul></li>
</ul>
<h3 id="configuración-de-opciones">2. Configuración de opciones</h3>
<p>Cada opción del kernel puede estar en uno de los siguientes
estados:</p>
<ul>
<li><p><strong><Y></strong> (Yes, Sí):<br />
La característica se <strong>incluye directamente</strong> en el kernel
como parte del núcleo.<br />
Representado como <code>[ * ]</code>.</p></li>
<li><p><strong><N></strong> (No):<br />
La característica se <strong>excluye por completo</strong> del
kernel.<br />
Representado como <code>[ ]</code>.</p></li>
<li><p><strong><M></strong> (Module, Módulo):<br />
La característica se compila como un <strong>módulo externo</strong> que
puede cargarse o descargarse dinámicamente en el sistema.<br />
Representado como <code>&lt;M&gt;</code>.</p></li>
<li><p><strong>&lt; &gt;</strong> (Compatible con módulo):<br />
Algunas opciones tienen el indicador <code>&lt; &gt;</code> para mostrar
que pueden configurarse como módulos. Si seleccionas “modular”,
aparecerá <code>&lt;M&gt;</code>.</p></li>
</ul>
<h3 id="accesos-rápidos">3. Accesos rápidos</h3>
<p>La interfaz tiene accesos rápidos para facilitar la
configuración:</p>
<ul>
<li><p><strong>Teclas resaltadas</strong>:<br />
Cada opción tiene letras resaltadas (normalmente en mayúsculas). Puedes
presionar esa letra para seleccionar rápidamente esa opción.</p></li>
<li><p><strong><code>Esc Esc</code></strong>:<br />
Presiona <code>Esc</code> dos veces seguidas para salir del menú o de un
submenú.</p></li>
<li><p><strong>&lt;?&gt;</strong>:<br />
Presiona <code>?</code> para ver información de ayuda sobre la opción
que tengas seleccionada. Esto es útil si no sabes qué hace una
característica o cómo afectará a tu sistema.</p></li>
<li><p><strong>&lt;/&gt;</strong>:<br />
Presiona <code>/</code> para buscar una opción específica por nombre.
Por ejemplo, si buscas “EXT4”, puedes encontrar rápidamente las opciones
relacionadas con este sistema de archivos.</p></li>
</ul>
<h3 id="leyenda">4. Leyenda</h3>
<p>La leyenda explica los símbolos que ves en el menú y su
significado:</p>
<ul>
<li><code>[ * ]</code>: La opción está habilitada e incluida como parte
del kernel.</li>
<li><code>[ ]</code>: La opción está deshabilitada y no estará en el
kernel.</li>
<li><code>&lt;M&gt;</code>: La opción está habilitada como un módulo y
se compilará por separado.</li>
<li><code>&lt; &gt;</code>: La opción es compatible con módulos, pero no
está habilitada actualmente.</li>
</ul>
<hr />
<h3 id="ejemplo-práctico">Ejemplo práctico</h3>
<p>Supongamos que estás configurando el soporte para el sistema de
archivos <strong>EXT4</strong>:</p>
<ol type="1">
<li>Busca “EXT4” presionando <code>/</code> y escribe “ext4”.</li>
<li>Verás las opciones relacionadas con EXT4. Puedes:
<ul>
<li>Presionar <code>&lt;Y&gt;</code> para incluir el soporte
directamente en el kernel (se cargará siempre).</li>
<li>Presionar <code>&lt;M&gt;</code> para que se compile como módulo
(puedes cargarlo/desactivarlo más tarde).</li>
<li>Presionar <code>&lt;N&gt;</code> para excluirlo si no lo
necesitas.</li>
</ul></li>
</ol>
<p><strong>Nota:</strong> Cuando cierres menuconfig si algo salió mal en
la terminal aparecerán unas informaciones, debes de leer o traducir para
entender qué es lo que dice, pues allí dirá si alguna configuración de
módulo, o si al caracteristica fue incluida directamente en el kernel no
sea soportada (pero esto es en el caso de que alguien haga alguna
configuración de ese tipo, bueno yo no hago esas configuraciones, pero
por un caso algún error).</p>
<h3 id="entonces">Entonces</h3>
<p><code>menuconfig</code> es una herramienta poderosa pero requiere
cuidado. Recuerda que incluir demasiadas cosas en el núcleo () puede
hacerlo pesado, mientras que usar módulos () te da más flexibilidad.
Siempre lee la ayuda (<code>?</code>) si no estás seguro de qué hace una
opción.</p>
<h3 id="consejos">Consejos</h3>
<p>El consejo que les doy es que la tecla “Espacio” la usen con mucho
cuidado, no la presionen por gusto pues esa es para cambiar las
opciones, y usted podría sin querer cambiar algo del Kernel y luego no
sabría que cambió.</p>
<h2 id="configurar-el-tiempo-real">CONFIGURAR EL TIEMPO REAL</h2>
<p>Verificar las configuraciones Real Time según el tutorial:</p>
<p>Debe ver si están las siguientes marcadas para convertirlo en un
Kernel Real Time, <strong>las siguientes son todas las instrucciones en
texto, más abajo están las mismas a las cuales les he puesto unas
capturas de pantalla para que vean con imágenes</strong>:</p>
<pre><code># Habilitado CCONFIG_NO_HZ_IDLE
 -&gt; General setup
  -&gt; Timers subsystem
   -&gt; Timer tick handling (Full dynticks system (tickless))
    (X) Idle dynticks system (tickless idle)

# Habilitado CONFIG_HIGH_RES_TIMERS
 -&gt; General setup
  -&gt; Timers subsystem
   [*] High Resolution Timer Support

# Habilitado CONFIG_PREEMPT_RT
 -&gt; General setup
  -&gt; Preemption Model (Fully Preemptible Kernel (Real-Time))
   (X) Fully Preemptible Kernel (Real-Time)

# Habilitado CONFIG_HZ_1000 
 -&gt; Processor type and features
  -&gt; Timer frequency (1000 HZ)
   (X) 1000 HZ

# Habilitado CPU_FREQ_DEFAULT_GOV_PERFORMANCE
 -&gt;  Power management and ACPI options
  -&gt; CPU Frequency scaling
    -&gt; Default CPUFreq governor
     (X) performance

# Verificar el soporte para particiones exFAT, NTFS
 -&gt; File systems
   -&gt; DOS/FAT/EXFAT/NT Filesystems</code></pre>
<p><strong>Nota:</strong> Los nombres pueden variar por la versión del
Kernel</p>
<p>Ahora si, de aquí para abajo para facilidad de entender qué es lo que
se hace les pongo unas capturas de pantalla, pero algunas capturas son
de otros de mis tutoriales, digo por un caso:</p>
<h3 id="habilitado-config_high_res_timers"># Habilitado
CONFIG_HIGH_RES_TIMERS</h3>
<p><strong>Temporizadores de alta resolución</strong> son
<strong>esenciales</strong> para garantizar que las tareas de audio en
tiempo real se gestionen correctamente, ya que permiten una mayor
precisión en la ejecución de procesos, es crucial para lograr un sistema
de audio de baja latencia:</p>
<p>–&gt; General setup</p>
<figure>
<img
src="https://blogger.googleusercontent.com/img/a/AVvXsEi93yDckV6ALDZzxbaENiThSypOrOCInLTW9k4WpJ7so--CONaBOldks7W9D2r0NsRzYxCJgh6K0F3IzymtoTI-X0EHBxBJVoatfXD0UUAHgUVsjmZkMRAYzXRpk6KeHImjYWUqoqZP5b-MqKMqYCdFhK7ycOj1_nstiYtu9Hxck_eGo7k1aDH9EW7K0NY"
alt="Imagen 101: General setup" />
<figcaption aria-hidden="true">Imagen 101: General setup</figcaption>
</figure>
<p>–&gt; Timers subsystem - [*] High Resolution Timer Support</p>
<figure>
<img
src="https://blogger.googleusercontent.com/img/a/AVvXsEj3Y41omXxTC5vjABugnAT69dbFevnqr_B38dG_CCg3wDqC7ZUHIng_shy3SKILItJBJD0ls1-GWGbZTxapbTJU48cU27ZvXEifvCBobOcoAgyKe7FYQeQ07l6ZVNeYBfFx3FF1oYeopASivo-7Iv-sS8uIf6jplbCZitGb2U1CAxGDQrZskD006NyFNlw"
alt="Imagen 102: High Resolution Timer Support" />
<figcaption aria-hidden="true">Imagen 102: High Resolution Timer
Support</figcaption>
</figure>
<h3 id="habilitado-cconfig_no_hz_idle"># Habilitado
CCONFIG_NO_HZ_IDLE</h3>
<p>El <strong>“sistema tickless”</strong> ayuda a reducir las
interrupciones cuando el sistema está inactivo. Esto es útil para evitar
que el kernel desperdicie ciclos de CPU en tiempos de inactividad y, de
este modo, se mejora la latencia general. Dado que tu sistema se usará
para producción de audio, el sistema <strong>tickless</strong> es
altamente recomendable:</p>
<p>–&gt; General setup –&gt; Timers subsystem</p>
<figure>
<img
src="https://blogger.googleusercontent.com/img/a/AVvXsEiKVY7icwTw0v1J_T29XXxFQEgrRICa2oGixhkkW_YzZtYKASO5suk4QAIphQnnZF_MQD-0ttMrMsAzvByDLTvK11zTYbUsH7jPZbCc2WmadOjKfb2ltrcosCXAtPd8zKPaxKTrDjmfqeuLlApTGcYkusGroWDcm18hwZYDYMSYK8SjBiDTwaITxGA-Aq0"
alt="Imagen 104: Timers subsystem" />
<figcaption aria-hidden="true">Imagen 104: Timers subsystem</figcaption>
</figure>
<p>y de Enter en:</p>
<p>– Timer tick handling (Idle dynticks system (tickless idle))
—&gt;</p>
<figure>
<img
src="https://blogger.googleusercontent.com/img/a/AVvXsEgHwqh3fPJbiFu1t9Ay4o4Lb2-xQ2VhKEAIMdQE6_QIbu-8t2kcDWwrkH9CsQY8K_8r_Dp78jMjNx5_H106P5HEF3i_piGq2i17ifzoAm5XF3Aa9IqDzjPoRBftZYiiSzy2XL5xhkyf5cg_70sS5JN5csKtfxDgKcehFq5nItawsLV3ThlQpSIjKroTsRY"
alt="Imagen 106: Timer tick handling" />
<figcaption aria-hidden="true">Imagen 106: Timer tick
handling</figcaption>
</figure>
<p>aparece así:</p>
<figure>
<img
src="https://blogger.googleusercontent.com/img/a/AVvXsEgPIUdQweUbqQJZ8cBGH5Hty-UhTeMqUeqmCxdxJKmXJE_m3h5aQ9EcKuefrxTz9r0mRkkNYpDf9hLImmfsZWJfGzzTej1sJa7WsWAIuFxwN3RElRc2i_FvjnjvHfmLRuqBGCzahoGli7MB63KQcni0q0a2fIz7YpLgiu-ZyUG1AkYrNdAMTRMsl6aUFbk"
alt="Imagen 107: Idle dynticks system" />
<figcaption aria-hidden="true">Imagen 107: Idle dynticks
system</figcaption>
</figure>
<p>y doy flecha abajo y aplasto la barra espaciadora para poner:</p>
<p>– (X) Idle dynticks system (tickless idle)</p>
<p>y se sale automáticamente a la ventana anterior pero si se aplicó el
cambio, si usted lo que ver, ingrese otra vez allí y verá que ya está
marcado:</p>
<figure>
<img
src="https://blogger.googleusercontent.com/img/a/AVvXsEj1K1YHYDbkS_7HukJHe_5R4s5h7-RO_K3SUfeNgYq5LFGfbVauTpuOyXPQBugHaTT7kEUzF3Ap271t4CeK2xScuOLlt4aOuiTvMmU5CYB1MFuvZGzLsKjSNP8SaY6xnO_nBRxPrjHmPxp2IAdCRET-dGjeWCaHMJuI0_q6ec9tzx5rD8NjHqUMyvkK7vc"
alt="Imagen 107: Idle dynticks system marcado" />
<figcaption aria-hidden="true">Imagen 107: Idle dynticks system
marcado</figcaption>
</figure>
<p><strong>Nota:</strong> El nombre podría variar algo en otros Kernel
pero el sentido debe ser algo semejante.</p>
<h3 id="habilitado-config_preempt_rt"># Habilitado
CONFIG_PREEMPT_RT</h3>
<p>La opción <code>CONFIG_PREEMPT_RT</code> (habilitada por el parche
RT) es <strong>esencial</strong> para la producción de audio. Estas
opciones aseguran que las tareas del kernel pueden interrumpir otras
tareas de manera agresiva, lo que es crucial cuando necesitas baja
latencia y preempción en tiempo real.</p>
<p>–&gt; General setup –&gt; Preemption Model (Voluntary Kernel
Preemption (Desktop)) —&gt;</p>
<figure>
<img
src="https://blogger.googleusercontent.com/img/a/AVvXsEgXPTby5GGwZRuCdJVuNuHTyt9l_XSbfIJnqTnlPRNUHJFSs4C3YO689w6E11NZD4mZ6rZAB4Sh8grgDUnTeF4wQN2RrB3gwoOXTqteNobAHtXgq6XFdEInGgR3z7HGAkEkGjtfrX1uO3_ZWUF0Ohn81fWcQpHNjqfLEcug_FJKWVxvaBnwE3vymeybbpE"
alt="Imagen 108: Preemption Model" />
<figcaption aria-hidden="true">Imagen 108: Preemption Model</figcaption>
</figure>
<p>al entrar con Enter está en Voluntary Kernel Preemption o en alguna
opción semejante si usa otra versión de Kernel:</p>
<figure>
<img
src="https://blogger.googleusercontent.com/img/a/AVvXsEhC8oY6PvPnlP7Su5zRUhFmfv0l0sgP98S5PdjR89JuwSi9jgbiah8IiY1Krb9mcS5vlMi86XH8mhpR9C1OxYM4trnjQecqgUDL4TUuL5IdL5WRcutIHqx_edzOEGdDJf37fEBWKJIqHxtODRbly-4HBIOkMftLdsjzOEKmlcEaGKq7dSR7UipK-FZleT4"
alt="Imagen 109: Voluntary Kernel Preemption" />
<figcaption aria-hidden="true">Imagen 109: Voluntary Kernel
Preemption</figcaption>
</figure>
<p>debe dejarla en:</p>
<p>– (X) Fully Preemptible Kernel (Real-Time)</p>
<figure>
<img
src="https://blogger.googleusercontent.com/img/a/AVvXsEjFsIhb3OopECYbqf1VFKDMmrGvyuQq8GrSaCKqi3B3-zSBnGjw320WlgfU-iXv_dAxW13rHUsjfi1f9A8L3nIC7KF6Fjcrvz8Sjw8OuzEgIC6nG4K2GyaeUTDPvuHN6Y5IOZjXfl9LGu01EhhPjYJDojQfDRhhbfpk0QivKSnNmT_ixpZWsayKw-NgySQ"
alt="Imagen 110: Fully Preemptible Kernel" />
<figcaption aria-hidden="true">Imagen 110: Fully Preemptible
Kernel</figcaption>
</figure>
<p>y como automáticamente se pone la opción anterior, al volver a entrar
se puede ver que ya está activa esa opción</p>
<h3 id="habilitado-config_hz_1000"># Habilitado CONFIG_HZ_1000</h3>
<p>El valor <strong>1000 Hz</strong> es ideal para la producción de
audio, ya que garantiza una frecuencia de temporización más alta y, por
lo tanto, una mayor precisión en el manejo de las interrupciones. Esto
reduce la latencia del sistema y permite que los procesos de audio se
ejecuten más rápidamente:</p>
<p>–&gt; Processor type and features –&gt; Timer frequency</p>
<figure>
<img
src="https://blogger.googleusercontent.com/img/a/AVvXsEjCybC4ymWwgZj8TxsT-kLqdAvO-6oKJTSD3J52v9AAv7e0TKhod5bG8Aw93Dshknsyh003P4B_OseCRHGvolVO9NEpuHvp4GaMKDdTIdLFVYshr4mIWqgaHSmrR4DFUjx5cPruMhyO0OxXvOEjCGLspB3nVpJVXInhjgEa4EKL70AU9yPWWW4qxBwvsuU"
alt="Imagen 110: Timer frequency" />
<figcaption aria-hidden="true">Imagen 110: Timer frequency</figcaption>
</figure>
<p>está por defecto en 250 Hz (en este Kernel), debe quedar en 1000</p>
<p>–&gt; Timer frequency (1000 HZ)</p>
<p>entre y con la flecla abajo marquela y dé barra espaciadora</p>
<p>salga</p>
<p>y así queda:</p>
<figure>
<img
src="https://blogger.googleusercontent.com/img/a/AVvXsEgu8al1WNYOys8HDQrdsYBl_Dm5dlMBCtyAj9r_d_vi5bCR6qMIx3-u14Xu92vuJa_DA6DB56xO3l3n2xL5b0f9T7mJb6H10WxS605kIiP8geu3vQmgqQ8vA49aXDDonVN6FJ9DefbChSWqemA1zzc6H3UpFnGqaRNDRpdNHglSn9Budxiz0MkfV6-SaS0"
alt="Imagen 112: Timer frequency (1000 HZ) habilitada" />
<figcaption aria-hidden="true">Imagen 112: Timer frequency (1000 HZ)
habilitada</figcaption>
</figure>
<h3 id="habilitado-cpu_freq_default_gov_performance"># Habilitado
CPU_FREQ_DEFAULT_GOV_PERFORMANCE</h3>
<p><strong>El escalado de frecuencia de CPU</strong>
(<code>CONFIG_SCHED_CPUFREQ</code>) puede causar fluctuaciones en la
frecuencia de la CPU, lo que puede llevar a <strong>latencias
impredecibles</strong>. En un sistema de producción de audio, es crucial
que la frecuencia de la CPU no fluctúe, por lo que necesitas
<strong>forzar el “governor” de la CPU a rendimiento máximo
(performance)</strong>:</p>
<p>–&gt; Power management and ACPI options –&gt; CPU Frequency scaling
–&gt; Default CPUFreq governor</p>
<figure>
<img
src="https://blogger.googleusercontent.com/img/a/AVvXsEg-DD-D_P-89sV2r6VXTyzIiJ37Y4kQmU4ErXYDThzdrQ5FT4MfAAkVennoKMLV7Sx9L5SBvSgFe3-MCB_9pPVYAodZHIbXhYLEn_cT2MO8ef5fHnwZ056b4-WxfYbQLzvWWro71wHa_VTGfqpsoDlplL28-81IFFkeV0tZ_lduB5SaefugRoubVOhk_48"
alt="Imagen 113: Default CPUFreq governor" />
<figcaption aria-hidden="true">Imagen 113: Default CPUFreq
governor</figcaption>
</figure>
<p>dejarlo en:</p>
<p>– (X) performance</p>
<h2 id="opcional">OPCIONAL</h2>
<h3
id="configura-el-kernel-para-habilitar-pae-para-sistemas-operativos-linux-de-32-bit">Configura
el kernel para habilitar PAE para Sistemas Operativos Linux de 32
bit</h3>
<p>Si usted tiene un ordenador que sólo soporta 32 bits, o si solo
quiera usar 32 bit aunque soporte 64 bit porque se ponga muy lenta, si
usted tuviera un ordenador con 4GB de RAM lo más seguro es que sólo le
esté reconociendo 3.44 GiB de los 4 GB de RAM si no usa un Kernel PAE,
este es un comportamiento esperado en sistemas operativos de 32 bits
debido a las limitaciones inherentes a esta arquitectura. Esto ocurre
porque los sistemas de 32 bits pueden direccionar un máximo de 4 GB de
espacio de memoria total, lo que incluye tanto la memoria RAM como otros
recursos de hardware, como la memoria dedicada a la tarjeta gráfica y
otros dispositivos de E/S (“Entrada/Salida” en inglés: I/O,
Input/Output. En informática, se refiere a la comunicación entre un
sistema informático y el mundo exterior, que puede ser con dispositivos
de hardware “dispositivos periféricos” o con otros sistemas.). Por lo
tanto, una parte de la memoria no se puede utilizar para RAM. La
solución es Habilitar PAE (Physical Address Extension) que es una
tecnología que permite a los sistemas operativos de 32 bits acceder a
más de 4 GB de RAM (hasta 64 GB). Debian 12 tiene soporte para PAE, pero
debes asegurarte de estar usando un kernel PAE</p>
<p>Navega a la sección:</p>
<p>–&gt; Processor type and features</p>
<p>y habilita la opción (puede que ya esté habilitada por defecto):</p>
<p>– [*] PAE (Physical Address Extension) Support</p>
<h3
id="deshabilitar-las-características-de-soporte-para-máquinas-virtuales-linux-guest-support-y-virtualization">Deshabilitar
las características de soporte para máquinas virtuales “Linux Guest
Support” y “Virtualization”</h3>
<p>Si deseas deshabilitar las características de soporte para máquinas
virtuales al compilar el kernel de Linux, puedes hacerlo al configurar
el kernel antes de la compilación. Para esto, debes seguir estos pasos
busca las opciones relacionadas con la virtualización, yo he
desabilitado:</p>
<p>–&gt; Processor type and features -&gt; [ ] Linux Guest Support —
–&gt; [ ] Virtualization —</p>
<p>Antes allí estaban unos asteriscos * pero los desmarqué con la tecla
de tabulación</p>
<p>Porque no voy a instalar ninguna máquina virtual, ni voy a crear un
Sistema Operativo Linux el cual luego lo voy a instalar dentro de una
máquina virtual (Guest Support)</p>
<h3 id="dar-esc-hasta-ir-al-inicio.">Dar ESC hasta ir al inicio.</h3>
<p>Si usted al estar realizando este tutorial sin querer llegue hasta
salirse de la ventana por dar varios ESC:</p>
<figure>
<img
src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhJ4Nh-pKz6KpEEkGCoUrahtBBpy9jtY53ILF9PjheE6DGorzLYxGssQT_PITRF9pgzmbEQKv5cXCKQ_RJMx2Efa5-G0-YMKdmPL7H5aT_8YCv3QuvBJVUKMK1HxAmmJBg4ilpyx6gn-V370sFgeKJL5ZCPvCrNcmxvEdPHNmynxiEqIewqf5_gQOoQwLM/s680/20240503-074022%20me%20pregutna%20si%20quiero%20grabar%20los%20cambios.png"
alt="Imagen 201" />
<figcaption aria-hidden="true">Imagen 201</figcaption>
</figure>
<p>allí dice:</p>
<p>“Do you wish to save your new configuration?<br />
(Press <ESC><ESC> to continue kernel configuration.)”</p>
<p>que traducido es:</p>
<p>“¿Desea guardar su nueva configuración? (Presione <ESC><ESC> para
continuar con la configuración del kernel).”</p>
<p>darle Enter pues allí dice <strong>YES</strong></p>
<p>y me dice que las configuraciones han sido escritas al archivo:</p>
<p>.config</p>
<h3 id="verificar-config_system_trusted_keys">verificar
CONFIG_SYSTEM_TRUSTED_KEYS</h3>
<p>Abra el archivo .config (está oculto, para verlo Ctrl + C) con algún
editor de texto y busque lo siguiente (puede usar el atajo Ctrl + F o en
las opciones del menú):</p>
<p><code>CONFIG_SYSTEM_TRUSTED_KEYS=</code></p>
<p>debe estar terminando al final del igual con dos comillas, y si no
debe dejarlo así:</p>
<p><code>CONFIG_SYSTEM_TRUSTED_KEYS=""</code></p>
<p>es porque si tiene algunos textos entre las comillas no lo podrá
compilar. Si lo tuvo que editar y dejarlo como le explico, guarde y
cierre el archivo, y siga.</p>
<p>En caso de que deseara revisar algo debe poner el comando:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> menuconfig</span></code></pre></div>
<p><strong>Nota:</strong> Además si algún kernel no tenga soporte exFAT,
en el siguiente <a
href="https://facilitarelsoftwarelibre.blogspot.com/2024/05/compilar-kernel-linux-real-time-en-mx.html">tutorial</a>
búsque la parte de cómo añadí el soporte exFAT en códigos fuentes de
Kernel que no tienen.</p>
<h3 id="verificando-que-las-opciones-estén-bien">Verificando que las
opciones estén bien</h3>
<p>Cuando salga de menuconfig después de haber hecho las modificaciones,
deberá ver en la terminal algo como esto:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> make menuconfig</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/mconf.o</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/lxdialog/checklist.o</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/lxdialog/inputbox.o</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/lxdialog/menubox.o</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/lxdialog/textbox.o</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/lxdialog/util.o</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/lxdialog/yesno.o</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/confdata.o</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/expr.o</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">LEX</span>     scripts/kconfig/lexer.lex.c</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="ex">YACC</span>    scripts/kconfig/parser.tab.[ch]</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/lexer.lex.o</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/menu.o</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/parser.tab.o</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/preprocess.o</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/symbol.o</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTCC</span>  scripts/kconfig/util.o</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>  <span class="ex">HOSTLD</span>  scripts/kconfig/mconf</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a><span class="ex">***</span> End of the configuration.</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a><span class="ex">***</span> Execute <span class="st">&#39;make&#39;</span> to start the build or try <span class="st">&#39;make help&#39;</span>.</span></code></pre></div>
<p>allí no hay ningún mensaje de error al final, pero podría haberlo,
ejemplo diciendo en inglés:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.config:5593:warning:</span> symbol value <span class="st">&#39;m&#39;</span> invalid for RADIO_ADAPTERS</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="ex">.config:6215:warning:</span> symbol value <span class="st">&#39;m&#39;</span> invalid for DRM_GEM_SHMEM_HELPER</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="ex">.config:6859:warning:</span> symbol value <span class="st">&#39;m&#39;</span> invalid for SND_SOC_SOF_DEBUG_PROBES</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="ex">.config:6896:warning:</span> symbol value <span class="st">&#39;m&#39;</span> invalid for SND_SOC_SOF_HDA_PROBES</span></code></pre></div>
<p>este tipo de error se debe a que en el archivo de configuración
.config hay valores inválidos para algunas opciones que has
seleccionado, específicamente la opción ‘m’ (que indica que el módulo
debería compilarse como módulo, en lugar de ser compilado directamente
en el kernel). Este tipo de advertencias pueden ocurrir cuando se
seleccionan opciones que no son compatibles con el valor que has
configurado (por ejemplo, módulos que no deberían ser módulos o que
tienen dependencias que deben resolverse), eso solo podría pasar si sin
querer usted mivió algo, por lo que de ser así, lo mejor es que borre la
carpeta del kernel y la descomprima otra vez para empezar de cero.</p>
<h3 id="compinado-el-kernel-etiquetandolo-para-crear-los-.deb">Compinado
el Kernel etiquetandolo para crear los .deb</h3>
<p>Es posible Compilar el Kernel y ponerle una etiqueta como descripción
en los deb generados. En el siguiente ejemplo en LOCALVERSION= está la
etiqueta debian12:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> deb-pkg LOCALVERSION=-debian12 KDEB_PKGVERSION=<span class="va">$(</span><span class="fu">make</span> kernelversion<span class="va">)</span>-1</span></code></pre></div>
<p>si se pone eso en la terminal con esa etiqueta será compilado el
Kernel y eso aparecerá en el deb</p>
<p>yo le voy a poner así **(debe ser sin ningún espacio y no se deben
usar mayúsculas, ni caracteres extraños, ni este caracter “_“)** para
saber que fue compilado en Debian 12 y sobre que es un Kernel Real Time
no me preocupo pues eso automáticamente le pone la compilación.</p>
<p><strong>Nota:</strong> Si habilitan PAE esto también se añadirá
automáticamente a la compilación. Pero si desabilitan la virtualización
sería bueno poner así: “debian12-novm” para saber que tiene desabilitada
la virtualización, esto como ejemplos, ustedes pueden además si desean
escribir algo más en la etiqueta como puede ser escribir pae:
“debian12-novm-pae”, puede ser su nickname u otro</p>
<p>y dar ENTER</p>
<p>y ahora si a esperar un buen rato hasta que termine la compilación,
pueden ser horas</p>
<p>cuando ya fueron generados automáticamente los deb estarán en el
directorio anterior de donde lo compilamos:</p>
<p><img
src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiNkzZwlN2gnCMYmZU-eTV7azNYczD4OP5FM4cPTa1VHeYhyphenhyphen3lTMPMwQFw9P8HvLsVSTJIXCV-UtMFDwQeaqWgl9QiWkNIvbdru0CIVXRICZ3plt6TAbK5EEJM11CYTIuZ9F6zQ6FhFVLnctdCAFEuX33cqxLOMR6r8SLYyoBrDyqBVleFJC3_ypjAR1Dc/s783/20240625-095804%20los%20deb%20del%20kernel%20creados.png" /></p>
<p>y para instalarlos sugiero hacer lo siguiente:</p>
<h2 id="instalación-de-los-deb-del-kernel">INSTALACIÓN DE LOS DEB DEL
KERNEL</h2>
<p>Sólo necesitamos dos los que tienen en el nombre headers e image,
menos el archivo que contiene dbg y el que contiene libc-dev, así que lo
mejor es que cojamos esos dos y los pongamos dentro de otra carpeta y
cuando los tengamos allí instalarlos con:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> dpkg <span class="at">-i</span> <span class="pp">*</span>.deb</span></code></pre></div>
<h2
id="requerimientos-para-instalar-en-otro-linux-recién-instalado">Requerimientos
para instalar en otro Linux recién instalado</h2>
<p>Si estos deb los quiere instalar en otro Linux debe instalar el
paquete gcc:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apto install gcc dkms</span></code></pre></div>
<p>pues sino no se podrá instalar</p>
<p>luego <strong>reiniciar</strong></p>
<h2 id="eligiendo-el-kernel-rt-al-iniciar-el-equipo">Eligiendo el Kernel
RT al iniciar el equipo</h2>
<p>Al iniciar el Sistema Operativo cuando aparece el GRUB de flecha
abajo en la opción Avanzada y allí elija el kernel que hemos
compilado</p>
<h2 id="probando-si-coge-mi-tarjeta-sd">Probando si coge mi tarjeta
SD</h2>
<p>Quería probar los dos puesto que mi laptop Dell Inspiron 1750 tiene
una tarjeta lectora de Memorias SD y funciona bien, que bueno (es que a
veces esa tarjetal lectora no funciona en algún Kernel y sin ella no
puedo usarla y para mi es imprescindible)</p>
<p>Lo estoy probando y hasta el momento me funciona bien. Pero si en
algún momento no funciona no quedará más que comprar un buen lector de
tarjetas (yo tuve que comprar dos pues el primero no era muy rapido, el
segundo si funciona bien)</p>
<p>Dios les bendiga</p>
<h2 id="consultas">CONSULTAS</h2>
<p><strong>No se puede montar partición exFAT en algún tipo de Linux
porque el Kernel u otro no tiene soporte</strong><br />
<a
href="https://facilitarelsoftwarelibre.blogspot.com/2023/02/no-se-puede-montar-particion-exfat-en-kernel-linux.html">https://facilitarelsoftwarelibre.blogspot.com/2023/02/no-se-puede-montar-particion-exfat-en-kernel-linux.html</a></p>
<p><strong>Compilando Kernel de AV Linux en MX Linux 21 de (32 bits y 64
bits)</strong><br />
<a
href="https://facilitarelsoftwarelibre.blogspot.com/2022/04/compilando-kernel-de-av-linux-en-mx.html">https://facilitarelsoftwarelibre.blogspot.com/2022/04/compilando-kernel-de-av-linux-en-mx.html</a></p>
<p><strong>Debian build fail due debian/certs/debian-uefi-certs.pem
#54</strong><br />
<a
href="https://github.com/Frogging-Family/linux-tkg/issues/54">https://github.com/Frogging-Family/linux-tkg/issues/54</a></p>
<p><strong>What is Kernel-PAE in Linux ?</strong><br />
<a
href="https://www.golinuxhub.com/2014/02/understanding-kernel-pae-in-linux/">https://www.golinuxhub.com/2014/02/understanding-kernel-pae-in-linux/</a></p>
<p><strong>PuppyLinux : PAE</strong><br />
<a
href="https://www.wikka.puppylinux.com/PAE">https://www.wikka.puppylinux.com/PAE</a></p>
<p><strong>System configuration [Linux-Sound]</strong><br />
<a
href="https://wiki.linuxaudio.org/wiki/system_configuration#do_i_really_need_a_real-time_kernel">https://wiki.linuxaudio.org/wiki/system_configuration#do_i_really_need_a_real-time_kernel</a></p>
