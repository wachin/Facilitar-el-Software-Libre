# **Tutorial Completo de Sway para Principiantes**  

Un **administrador de ventanas Tiling** (o de mosaico) como lo es Sway es un tipo de gestor de ventanas en Linux que organiza autom√°ticamente las ventanas en la pantalla sin que se superpongan. A diferencia de los administradores de ventanas "flotantes" tradicionales (como los que se encuentran en Windows o macOS), donde puedes arrastrar y soltar las ventanas libremente, los administradores de ventanas Tiling llenan el espacio disponible en la pantalla con las ventanas que abres, as√≠ Sway tiene:

* **Organizaci√≥n autom√°tica en mosaico:** La caracter√≠stica principal. Cuando abres una ventana, el gestor la coloca autom√°ticamente en una parte de la pantalla. Si abres una segunda ventana, la primera se redimensiona para compartir el espacio y la segunda ocupa el resto, creando un "mosaico" de ventanas.
* **Sin superposiciones:** Las ventanas nunca se superponen. Siempre se muestran una al lado de la otra, dividiendo la pantalla en secciones l√≥gicas.
* **Enfoque en el teclado:** Los administradores de ventanas Tiling est√°n dise√±ados para ser controlados casi por completo con el teclado. En lugar de usar el rat√≥n para mover, redimensionar y cerrar ventanas, utilizas atajos de teclado para todas estas acciones. Esto permite un flujo de trabajo m√°s r√°pido y eficiente.
* **Configuraci√≥n y personalizaci√≥n:** Suelen ser muy configurables. Los usuarios pueden modificar la disposici√≥n de las ventanas, los atajos de teclado, los colores y otros aspectos a trav√©s de un archivo de configuraci√≥n de texto plano. Esto permite una personalizaci√≥n muy profunda para adaptarse a las necesidades de cada usuario.
* **Trabajo con m√∫ltiples monitores:** Funcionan muy bien con m√∫ltiples pantallas. Los gestores de ventanas de mosaico pueden organizar las ventanas en cada monitor de forma independiente, o incluso mover ventanas y espacios de trabajo entre ellos f√°cilmente con atajos de teclado.
* **Sway y Wayland:** Sway es un administrador de ventanas de mosaico dise√±ado para el servidor de visualizaci√≥n **Wayland**. Es un sucesor directo de `i3`, otro popular administrador de ventanas de mosaico, pero est√° dise√±ado para el ecosistema moderno de Wayland en lugar del antiguo servidor X11. Esto significa que Sway aprovecha las caracter√≠sticas y mejoras de rendimiento de Wayland.

En resumen, un administrador de ventanas Tiling como lo es Sway es una herramienta de productividad para usuarios avanzados de Linux que buscan un control total y un flujo de trabajo m√°s eficiente, eliminando la necesidad de usar el rat√≥n y organizando las ventanas de forma l√≥gica para maximizar el espacio en la pantalla

![Sway](https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj_pAj-I-zA1OjBMacBDj1I_u7or2UcdpJwUl5nUWHRR0mi_zuGO0ek-Zl2G7NkpWIzfE0X-VfQLGlIdbGU0fekFNz0kBMPzz4I2tgwzguOwURh8rCy7vfwRhSiy2MoTk1-fo2yOSW9Bo0VfKFJmfHOVf7eeHAUIFs0jBpfmfKiWAgaFdcVnDF7n4V-GS4/s1366/captura.png)


## **üì¶ Instalaci√≥n de Paquetes Necesarios**  
Primero, instala todos los paquetes necesarios en Debian 12:   

Actualizar los repositorios:

```bash
sudo apt update
```

e instalar los paquetes:

```bash
sudo apt install sway waybar sway-notification-center swaykbdd wofi \
    python3-i3ipc wlr-randr swaybg swayidle swaylock foot wl-clipboard \
    wf-recorder wvkbd grimshot grim slurp
```

Si prefieres **Alacritty** en lugar de **Foot** (otro terminal r√°pido para Wayland):  

```bash
sudo apt install alacritty
```

## **üöÄ Iniciar y Salir de Sway**  

### **Iniciar Sway desde la terminal (sin gestor de inicio de sesi√≥n)**  
Si usas un gestor de inicio como GDM o LightDM, selecciona Sway en la lista de sesiones.  

Si inicias sesi√≥n desde la terminal (TUI), ejecuta:  

```bash
sway
```

### **Salir de Sway**  

- **Cerrar sesi√≥n**: `Mod + Shift + E` (te pedir√° confirmaci√≥n).  
- **Forzar cierre** (si Sway se congela): `Ctrl + Alt + F2` (cambia a TTY) y luego ejecuta:  

```bash
killall sway
```

con esto deber√≠a solucionarse

---

# Atajos de teclado (Combinaciones de teclas)
Las siguientes son las equivalencias para el teclado

### **Mod** (Tecla modificadora)
En Sway, `Mod` se refiere por defecto a la **tecla Super** (tambi√©n llamada tecla Windows):

- **Tecla Windows/Super**: La tecla con el logo de Windows en teclados est√°ndar
- **Ubicaci√≥n**: Generalmente entre Ctrl y Alt, a la izquierda de la barra espaciadora
- **S√≠mbolo**: ‚äû o ‚ùñ

### **Shift** 

- **Tecla Shift**: La tecla de may√∫sculas
- **Ubicaci√≥n**: Hay dos, una a cada lado del teclado
- **Puedes usar cualquiera de las dos**

### **minus**
Se refiere al **gui√≥n medio** o **signo menos**:

  - **S√≠mbolo**: `-`
  - **Ubicaci√≥n**: En el teclado en espa√±ol/latinoamericano est√° generalmente:
  - Entre el `0` y el `=` en la fila de n√∫meros
  - O junto a la `√±` dependiendo del layout

## Ejemplo visual de la combinaci√≥n

```
[Super] + [Shift] + [-]   
   ‚ùñ    +    ‚áß    +  -
```

## En la pr√°ctica

Para ejecutar `Mod + Shift + minus`:

1. **Mant√©n presionada** la tecla Super/Windows (‚ùñ)
2. **Mant√©n presionada** Shift (‚áß) 
3. **Presiona** el gui√≥n/menos (-)
4. **Suelta todas** las teclas


## **‚å®Ô∏è Atajos de Teclado B√°sicos**  

### **Movimiento entre ventanas**  

- `Mod + ‚Üê`   Enfocar ventana a la izquierda
- `Mod + ‚Üí`   Enfocar ventana a la derecha  
- `Mod + ‚Üë`   Enfocar ventana arriba
- `Mod + ‚Üì`    Enfocar ventana abajo
- `Mod + Shift + flechas` ‚Üí Mover ventana a otra direcci√≥n.  

**Alternativa con teclas vim:**

- `Mod + h`  Izquierda
- `Mod + l`  Derecha
- `Mod + k`  Arriba
- `Mod + j`  Abajo


### **Gesti√≥n de ventanas**  

- `Mod + Enter` ‚Üí Abrir terminal (Foot/Alacritty).  
- `Mod + q` ‚Üí Cerrar ventana.  
- `Mod + f` ‚Üí Pantalla completa.  
- `Mod + d` ‚Üí Abrir lanzador de aplicaciones (**Wofi**).  
- `Mod + Shift + Espacio` ‚Üí Cambiar a modo flotante (para mover ventanas libremente).  
- `Mod + Espacio` ‚Üí Cambiar entre mosaico/flotante.  

### **Gesti√≥n de espacios de trabajo (workspaces)**  

- `Mod + 1-9` ‚Üí Cambiar a workspace 1-9.  
- `Mod + Shift + 1-9` ‚Üí Mover ventana a workspace 1-9.  

### **Gesti√≥n de monitores**  

- `Mod + Shift + m` ‚Üí Mover ventana a otro monitor.  
- `wlr-randr --output HDMI-1 --mode 1368x768@75.00` ‚Üí Cambiar resoluci√≥n y Hz.  

### **Bloqueo de pantalla**  

- `Mod + Escape` ‚Üí Bloquear pantalla con **swaylock**.  

## **üìÇ Manejo de Archivos y Documentos**  

Sway no incluye un gestor de archivos, puedes usar el que venga instalado o pero puedes instalar uno:  

```bash
sudo apt install thunar pcmanfm nautilus  # (elige uno)
```

lo puedes abrir desde la terminal, seg√∫n sea el nombre del administrador de archivos

### **Abrir archivos desde terminal**  

- Usa `xdg-open` para abrir archivos con la aplicaci√≥n predeterminada:  

```bash
xdg-open documento.pdf
xdg-open imagen.png
```

### **Gesti√≥n del portapapeles**  

- `wl-copy "texto"` ‚Üí Copiar texto al portapapeles.  
- `wl-paste` ‚Üí Pegar texto.  

## **üîß Personalizaci√≥n B√°sica**  

### **1. Configuraci√≥n de Sway (`~/.config/sway/config`)**  
Crea o edita el archivo de configuraci√≥n:  

```bash
mkdir -p ~/.config/sway
cp /etc/sway/config ~/.config/sway/  # Copia la configuraci√≥n por defecto
nano ~/.config/sway/config
```

### **2. Barra de estado (Waybar)**  
Waybar se ejecuta autom√°ticamente si est√° instalado. Para personalizarlo:  

```bash
mkdir -p ~/.config/waybar
cp /etc/xdg/waybar/config ~/.config/waybar/
nano ~/.config/waybar/config
```

### **3. Fondo de pantalla**  

```bash
swaybg -i ~/Im√°genes/fondo.jpg -m fill
```
Para que se ejecute al inicio, a√±√°delo al archivo `~/.config/sway/config`:  

```bash
exec swaybg -i ~/Im√°genes/fondo.jpg -m fill
```

## **üé• Grabaci√≥n de Pantalla**  
Con `wf-recorder`:  

```bash
wf-recorder -f grabacion.mp4  # Iniciar grabaci√≥n
wf-recorder --stop            # Detener grabaci√≥n
```

---

# Capturas de Pantalla en Sway: Gu√≠a Completa con Grimshot y Grim

Sway es un compositor de ventanas para Wayland que reemplaza las herramientas tradicionales de captura de pantalla de X11. En esta gu√≠a aprender√°s a configurar y usar las herramientas m√°s efectivas para capturar pantalla en Sway.

## ¬øPor qu√© las herramientas tradicionales no funcionan?

En entornos Wayland como Sway, las herramientas cl√°sicas como `scrot` o `gnome-screenshot` no funcionan debido a las diferencias de seguridad y arquitectura. Necesitamos herramientas espec√≠ficas para Wayland.

## Instalaci√≥n de las Herramientas

### Grim: La base fundamental

Grim es la herramienta principal para capturas de pantalla en Wayland:

```bash
sudo apt update
sudo apt install grim slurp
```

- **grim**: Captura la pantalla
- **slurp**: Permite seleccionar regiones espec√≠ficas

### Grimshot: El script mejorado

Aunque `sway-backgrounds` est√° instalado, grimshot no siempre viene incluido autom√°ticamente. Necesitas instalarlo por separado:

```bash
sudo apt install grimshot
```


## Uso B√°sico de Grim

### Capturas simples

```bash
# Capturar toda la pantalla
grim captura.png

# Capturar con timestamp
grim ~/Pictures/screenshot-$(date +%Y%m%d-%H%M%S).png

# Capturar regi√≥n espec√≠fica
grim -g "$(slurp)" captura-region.png

# Capturar ventana espec√≠fica
grim -g "$(swaymsg -t get_tree | jq -j '.. | select(.type?) | select(.focused).rect | "\(.x),\(.y) \(.width)x\(.height)"')" ventana.png
```

### Opciones avanzadas

```bash
# Capturar con calidad espec√≠fica
grim -q 100 captura-hq.png

# Capturar en formato espec√≠fico
grim -t jpeg captura.jpg

# Capturar monitor espec√≠fico
grim -o DP-1 monitor1.png
```

## Uso de Grimshot

Grimshot es un wrapper que simplifica el uso de grim y a√±ade funcionalidades adicionales.

### Comandos principales

```bash
# Capturar toda la pantalla al portapapeles
grimshot copy output

# Capturar regi√≥n seleccionada al portapapeles
grimshot copy area

# Capturar ventana activa al portapapeles
grimshot copy active

# Capturar ventana espec√≠fica al portapapeles
grimshot copy window
```

### Guardar como archivos

```bash
# Guardar captura completa
grimshot save output ~/captura.png

# Guardar regi√≥n seleccionada
grimshot save area ~/captura.png

# Guardar ventana activa
grimshot save active ~/captura.png

# Guardar con nombre autom√°tico
grimshot save output ~/Pictures/screenshot-$(date +%Y%m%d-%H%M%S).png
```

## Configuraci√≥n de Atajos de Teclado

Edita tu archivo de configuraci√≥n de Sway (`~/.config/sway/config`):

```bash
# Capturas b√°sicas con grim
bindsym Print exec grim ~/Pictures/screenshot-$(date +%Y%m%d-%H%M%S).png
bindsym Shift+Print exec grim -g "$(slurp)" ~/Pictures/screenshot-$(date +%Y%m%d-%H%M%S).png

# Capturas con grimshot (recomendado)
bindsym Print exec grimshot copy output
bindsym Shift+Print exec grimshot copy area
bindsym Ctrl+Print exec grimshot copy active
bindsym Alt+Print exec grimshot save output ~/Pictures/screenshot-$(date +%Y%m%d-%H%M%S).png

# Captura con notificaci√≥n
bindsym Print exec grimshot copy output && notify-send "Captura copiada al portapapeles"
```

Despu√©s de modificar la configuraci√≥n:

```bash
# Recargar configuraci√≥n de Sway
swaymsg reload
# O usar el atajo: Super+Shift+C
```

## Trabajando con el Portapapeles

### Verificar contenido del portapapeles

```bash
# Instalar herramientas de portapapeles
sudo apt install wl-clipboard

# Ver tipos de contenido disponibles
wl-paste --list-types

# Guardar imagen del portapapeles a archivo
wl-paste > imagen-desde-portapapeles.png

# Copiar archivo al portapapeles
wl-copy < imagen.png
```

### Scripts √∫tiles

Crear un script personalizado para capturas autom√°ticas:

```bash
#!/bin/bash
# Guardar como ~/bin/captura
mkdir -p ~/Pictures/screenshots
FILENAME="screenshot-$(date +%Y%m%d-%H%M%S).png"
grimshot save output ~/Pictures/screenshots/$FILENAME
notify-send "Captura guardada" "$FILENAME"
```

Hacer el script ejecutable:

```bash
chmod +x ~/bin/captura
```

## Soluci√≥n de Problemas Comunes

### Grimshot no encontrado

Si `grimshot` no est√° disponible despu√©s de instalar `sway-backgrounds`:

1. Verificar instalaci√≥n: `which grimshot`
2. Instalar manualmente desde el repositorio de Sway
3. Usar grim directamente como alternativa

### Permisos de captura

En algunos casos, necesitas permisos espec√≠ficos:

```bash
# Agregar usuario al grupo video
sudo usermod -a -G video $USER
```

### Capturas en negro

Si las capturas salen en negro, puede ser un problema de drivers gr√°ficos:

```bash
# Usar software rendering temporalmente
LIBGL_ALWAYS_SOFTWARE=1 grimshot copy output
```

## Comparaci√≥n: Grim vs Grimshot

| Caracter√≠stica | Grim | Grimshot |
|----------------|------|----------|
| Velocidad | Muy r√°pida | R√°pida |
| Simplicidad | Comando directo | Wrapper simplificado |
| Portapapeles | Requiere wl-copy | Integrado |
| Flexibilidad | M√°xima | Buena |
| Dependencias | M√≠nimas | M√°s herramientas |

## Conclusi√≥n

Para la mayor√≠a de usuarios, **grimshot** es la opci√≥n m√°s conveniente por su simplicidad y integraci√≥n con el portapapeles. **Grim** ofrece m√°s control granular para casos espec√≠ficos.

La combinaci√≥n de ambas herramientas te permitir√° manejar cualquier escenario de captura de pantalla en tu entorno Sway de manera eficiente.

---

# Soluci√≥n a problemas de ventanas perdidas en Sway

## El Problema

Si usas Sway (el compositor de ventanas para Wayland) y te encuentras en esta situaci√≥n:

- Tienes varias ventanas abiertas en modo flotante
- Una ventana se maximiza o va a pantalla completa (como gwenview al abrir una imagen)
- Cambias esa ventana a modo flotante con `Mod + Shift + Espacio`
- Las otras ventanas "desaparecen" detr√°s y no puedes acceder a ellas
- `Alt + Tab` no funciona para cambiar entre ventanas

**¬°No te preocupes!** Tus ventanas siguen ah√≠, solo est√°n ocultas. Este tutorial te ense√±ar√° c√≥mo recuperarlas y evitar que vuelva a pasar.

## Soluciones Inmediatas

### M√©todo 1: Navegaci√≥n con teclado
Usa las teclas de direcci√≥n para moverte entre ventanas:

- `Mod + ‚Üê`   Enfocar ventana a la izquierda
- `Mod + ‚Üí`   Enfocar ventana a la derecha  
- `Mod + ‚Üë`  #Enfocar ventana arriba
- `Mod + ‚Üì`    Enfocar ventana abajo
- `Mod + Shift + flechas` ‚Üí Mover ventana a otra direcci√≥n.  

**Alternativa con teclas vim:**

- `Mod + h`  Izquierda
- `Mod + l`  Derecha
- `Mod + k`  Arriba
- `Mod + j`  Abajo

### Alternar entre ventanas flotantes y en mosaico

`Mod + Ctrl + Espacio`  Cambiar foco entre ventanas flotantes y tiling

## Consejos Adicionales

### Gesti√≥n Preventiva

- **Usa workspaces:** `Mod + [1-9]` para cambiar entre espacios de trabajo
- **Organiza por tipo:** Terminales en workspace 1, navegador en 2, etc.
- **Modo picture-in-picture:** `Mod + Shift + Espacio` seguido de redimensionar con `Mod + r`

### Si nada funciona
Como √∫ltimo recurso, puedes reiniciar Sway sin perder tu trabajo:

`Mod + Shift + e` Men√∫ de salida

Selecciona "Reload" en lugar de "Exit".

## Flujo de Trabajo Recomendado

1. **Abre aplicaciones en orden:** Primero las que usar√°s como base (terminales, editor)
2. **Usa workspaces:** Separa aplicaciones por funci√≥n
3. **Modo flotante solo cuando sea necesario:** La mayor√≠a del tiempo, el modo tiling es m√°s eficiente
4. **Aprende los atajos:** Memoriza `Mod + w`, `Mod + e`, `Mod + s` para cambios r√°pidos de layout

## Troubleshooting

**Si las ventanas siguen sin aparecer:**

- Verifica que no est√©n minimizadas: `Mod + Shift + minus` para minimizar/restaurar
- Revisa si est√°n en otro workspace: `Mod + [n√∫mero]`
- Usa `swaymsg -t get_workspaces` para ver todos los espacios de trabajo activos

**Si Alt + Tab definitivamente no funciona:**

- Instala un switcher alternativo como `wofi` o `rofi`
- O usa los atajos nativos de Sway mencionados arriba

---

## **üîç Consejos Finales**  
- Si algo no funciona, revisa los logs con:  

```bash
journalctl -u sway --no-pager -f
```
- Para aprender m√°s comandos, ejecuta `man sway`.  

## Conclusi√≥n

Los gestores de ventanas como Sway requieren un poco de curva de aprendizaje, pero una vez que dominas estos comandos b√°sicos, la productividad aumenta significativamente. La clave est√° en entender que las ventanas no desaparecen, solo cambian de contexto, y siempre hay una forma de navegar de vuelta a ellas.